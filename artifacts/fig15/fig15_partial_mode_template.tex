\documentclass[tikz]{standalone}
\usepackage{tikz}
\usepackage{amsmath}
\usepackage{pgfplots}
\usetikzlibrary{pgfplots.groupplots}
\pgfplotsset{compat=newest}


\pgfplotsset{
    width = 0.5\linewidth,
    height= 0.22\linewidth
}

\def\ymin{\pgfkeysvalueof{/pgfplots/ymin}}
\def\ymax{\pgfkeysvalueof{/pgfplots/ymax}}


\begin{filecontents} {spec06-calipers-perf.data}
    Benchmark IPC
    1   CALIPERS_SPEC06_BZIP2_PERF
    2   CALIPERS_SPEC06_MCF_PERF
    3   CALIPERS_SPEC06_NAMD_PERF
    4   CALIPERS_SPEC06_DEALII_PERF
    5   CALIPERS_SPEC06_SOPLEX_PERF
    6   CALIPERS_SPEC06_POVRAY_PERF
    7   CALIPERS_SPEC06_HMMER_PERF
    8   CALIPERS_SPEC06_SJENG_PERF
    9   CALIPERS_SPEC06_OMNETPP_PERF
    10  CALIPERS_SPEC06_XALANCBMK_PERF
    11  CALIPERS_SPEC06_LIBQUANTUM_PERF
    13  CALIPERS_SPEC06_PERF
\end{filecontents}


\begin{filecontents} {spec06-calipers-power.data}
    Benchmark Power
    1  -CALIPERS_SPEC06_BZIP2_POWER
    2  -CALIPERS_SPEC06_MCF_POWER
    3  -CALIPERS_SPEC06_NAMD_POWER
    4  -CALIPERS_SPEC06_DEALII_POWER
    5  -CALIPERS_SPEC06_SOPLEX_POWER
    6  -CALIPERS_SPEC06_POVRAY_POWER
    7  -CALIPERS_SPEC06_HMMER_POWER
    8  -CALIPERS_SPEC06_SJENG_POWER
    9  -CALIPERS_SPEC06_OMNETPP_POWER
    10 -CALIPERS_SPEC06_XALANCBMK_POWER
    11 -CALIPERS_SPEC06_LIBQUANTUM_POWER
    13 -CALIPERS_SPEC06_POWER
\end{filecontents}


\begin{filecontents} {spec06-arch-explorer-perf.data}
    Benchmark IPC
    1   ARCH_EXPLORER_SPEC06_BZIP2_PERF
    2   ARCH_EXPLORER_SPEC06_MCF_PERF
    3   ARCH_EXPLORER_SPEC06_NAMD_PERF
    4   ARCH_EXPLORER_SPEC06_DEALII_PERF
    5   ARCH_EXPLORER_SPEC06_SOPLEX_PERF
    6   ARCH_EXPLORER_SPEC06_POVRAY_PERF
    7   ARCH_EXPLORER_SPEC06_HMMER_PERF
    8   ARCH_EXPLORER_SPEC06_SJENG_PERF
    9   ARCH_EXPLORER_SPEC06_OMNETPP_PERF
    10  ARCH_EXPLORER_SPEC06_XALANCBMK_PERF
    11  ARCH_EXPLORER_SPEC06_LIBQUANTUM_PERF
    13  ARCH_EXPLORER_SPEC06_PERF
\end{filecontents}


\begin{filecontents} {spec06-arch-explorer-power.data}
    Benchmark Power
    1   -ARCH_EXPLORER_SPEC06_BZIP2_POWER
    2   -ARCH_EXPLORER_SPEC06_MCF_POWER
    3   -ARCH_EXPLORER_SPEC06_NAMD_POWER
    4   -ARCH_EXPLORER_SPEC06_DEALII_POWER
    5   -ARCH_EXPLORER_SPEC06_SOPLEX_POWER
    6   -ARCH_EXPLORER_SPEC06_POVRAY_POWER
    7   -ARCH_EXPLORER_SPEC06_HMMER_POWER
    8   -ARCH_EXPLORER_SPEC06_SJENG_POWER
    9   -ARCH_EXPLORER_SPEC06_OMNETPP_POWER
    10  -ARCH_EXPLORER_SPEC06_XALANCBMK_POWER
    11  -ARCH_EXPLORER_SPEC06_LIBQUANTUM_POWER
    13  -ARCH_EXPLORER_SPEC06_POWER
\end{filecontents}


\begin{filecontents} {spec17-calipers-perf.data}
    Benchmark IPC
    1   CALIPERS_SPEC17_GCC_PERF
    2   CALIPERS_SPEC17_MCF_PERF
    3   CALIPERS_SPEC17_LEELA_PERF
    4   CALIPERS_SPEC17_XZ_PERF
    5   CALIPERS_SPEC17_LBM_PERF
    6   CALIPERS_SPEC17_WRF_PERF
    7   CALIPERS_SPEC17_CAM4_PERF
    8   CALIPERS_SPEC17_POP2_PERF
    9   CALIPERS_SPEC17_NAB_PERF
    10  CALIPERS_SPEC17_DEEPSJENG_PERF
    11  CALIPERS_SPEC17_CACTUBSSN_PERF
    13  CALIPERS_SPEC17_PERF
\end{filecontents}


\begin{filecontents} {spec17-calipers-power.data}
    Benchmark Power
    1   -CALIPERS_SPEC17_GCC_POWER
    2   -CALIPERS_SPEC17_MCF_POWER
    3   -CALIPERS_SPEC17_LEELA_POWER
    4   -CALIPERS_SPEC17_XZ_POWER
    5   -CALIPERS_SPEC17_LBM_POWER
    6   -CALIPERS_SPEC17_WRF_POWER
    7   -CALIPERS_SPEC17_CAM4_POWER
    8   -CALIPERS_SPEC17_POP2_POWER
    9   -CALIPERS_SPEC17_NAB_POWER
    10  -CALIPERS_SPEC17_DEEPSJENG_POWER
    11  -CALIPERS_SPEC17_CACTUBSSN_POWER
    13  -CALIPERS_SPEC17_POWER
\end{filecontents}


\begin{filecontents} {spec17-arch-explorer-perf.data}
    Benchmark IPC
    1   ARCH_EXPLORER_SPEC17_GCC_PERF
    2   ARCH_EXPLORER_SPEC17_MCF_PERF
    3   ARCH_EXPLORER_SPEC17_LEELA_PERF
    4   ARCH_EXPLORER_SPEC17_XZ_PERF
    5   ARCH_EXPLORER_SPEC17_LBM_PERF
    6   ARCH_EXPLORER_SPEC17_WRF_PERF
    7   ARCH_EXPLORER_SPEC17_CAM4_PERF
    8   ARCH_EXPLORER_SPEC17_POP2_PERF
    9   ARCH_EXPLORER_SPEC17_NAB_PERF
    10  ARCH_EXPLORER_SPEC17_DEEPSJENG_PERF
    11  ARCH_EXPLORER_SPEC17_CACTUBSSN_PERF
    13  ARCH_EXPLORER_SPEC17_PERF
\end{filecontents}


\begin{filecontents} {spec17-arch-explorer-power.data}
    Benchmark Power
    1   -ARCH_EXPLORER_SPEC17_GCC_POWER
    2   -ARCH_EXPLORER_SPEC17_MCF_POWER
    3   -ARCH_EXPLORER_SPEC17_LEELA_POWER
    4   -ARCH_EXPLORER_SPEC17_XZ_POWER
    5   -ARCH_EXPLORER_SPEC17_LBM_POWER
    6   -ARCH_EXPLORER_SPEC17_WRF_POWER
    7   -ARCH_EXPLORER_SPEC17_CAM4_POWER
    8   -ARCH_EXPLORER_SPEC17_POP2_POWER
    9   -ARCH_EXPLORER_SPEC17_NAB_POWER
    10  -ARCH_EXPLORER_SPEC17_DEEPSJENG_POWER
    11  -ARCH_EXPLORER_SPEC17_CACTUBSSN_POWER
    13  -ARCH_EXPLORER_SPEC17_POWER
\end{filecontents}


\begin{document}


\definecolor{CUpurple}{RGB}{117,15,109}
\definecolor{CUlpurple}{RGB}{165,133,182}
\definecolor{CUgold}{RGB}{221,163,0}
\definecolor{CUribbon}{RGB}{244,223,176}
\definecolor{CUblack}{RGB}{34,24,21}
\definecolor{PKUred}{RGB}{126,24,28}
\definecolor{Gray}{RGB}{180,179,179}

\definecolor{C0}{RGB}{251,31,7}
\definecolor{C1}{RGB}{252,140,8}
\definecolor{C2}{RGB}{252,252,11}
\definecolor{C3}{RGB}{211,215,29}
\definecolor{C4}{RGB}{129,130,88}
\definecolor{C5}{RGB}{58,53,164}
\definecolor{Gray1}{RGB}{219,219,219}
\definecolor{Gray2}{RGB}{136,137,138}
\definecolor{Gray3}{RGB}{68,70,72}
\definecolor{Gray4}{RGB}{39,42,43}
\definecolor{Grey1}{RGB}{255,255,255}
\definecolor{Grey2}{RGB}{236,236,236}
\definecolor{Grey3}{RGB}{208,208,208}
\definecolor{Grey4}{RGB}{175,175,175}
\definecolor{Grey5}{RGB}{132,132,132}
\definecolor{Grey6}{RGB}{96,96,96}
\definecolor{Grey7}{RGB}{65,65,65}
\definecolor{Grey8}{RGB}{28,28,28}
\definecolor{Grey9}{RGB}{0,0,0}
\definecolor{Blue1}{RGB}{247,250,255}
\definecolor{Blue2}{RGB}{215,232,246}
\definecolor{Blue3}{RGB}{186,210,235}
\definecolor{Blue4}{RGB}{142,191,218}
\definecolor{Blue5}{RGB}{90,157,204}
\definecolor{Blue6}{RGB}{53,126,185}
\definecolor{Blue7}{RGB}{28,91,166}
\definecolor{Blue8}{RGB}{10,61,138}
\definecolor{Blue9}{RGB}{9,33,88}
\definecolor{YIGnBu1}{RGB}{255,255,209}
\definecolor{YIGnBu2}{RGB}{233,251,162}
\definecolor{YIGnBu3}{RGB}{189,230,165}
\definecolor{YIGnBu4}{RGB}{111,196,173}
\definecolor{YIGnBu5}{RGB}{55,169,183}
\definecolor{YIGnBu6}{RGB}{29,126,179}
\definecolor{YIGnBu7}{RGB}{27,73,152}
\definecolor{YIGnBu8}{RGB}{27,34,129}
\definecolor{YIGnBu9}{RGB}{9,20,70}
\definecolor{YIOrRd1}{RGB}{255,255,193}
\definecolor{YIOrRd2}{RGB}{255,235,143}
\definecolor{YIOrRd3}{RGB}{253,210,99}
\definecolor{YIOrRd4}{RGB}{252,163,60}
\definecolor{YIOrRd5}{RGB}{250,121,47}
\definecolor{YIOrRd6}{RGB}{248,54,33}
\definecolor{YIOrRd7}{RGB}{217,0,22}
\definecolor{YIOrRd8}{RGB}{186,35,56}
\definecolor{YIOrRd9}{RGB}{107,0,29}

% -, |, o, asterisk, star, oplus, oplus*, otimes, otimes*, square
% square*, triangle, triangle*, diamond, diamond*, pentagon, pentagon*

\pgfplotscreateplotcyclelist{my colors}{
    % color for the legend
    black!50\\
    % color for the "real" plots
    pink\\
    blue\\
    green\\
    cyan\\
    red\\
    orange\\
}

\begin{tikzpicture}

    \begin{groupplot}[
        group style = {
            group size = 1 by 2,
            horizontal sep = 130pt,
            vertical sep = 40pt
        }
    ]
        \nextgroupplot[
            axis x line* = bottom,
            axis y line* = left,
            ybar = 1pt,
            width = 6.6cm,
            ymin = 0,
            ymax = 3,
            enlarge x limits = 0.04,
            title = {SPEC CPU2006 results},
            title style = {
                yshift = 6pt
            },
            xtick = {1, 2, ..., 13},
            xticklabels = {,,},
            ytick = {0, 1.5, 3},
            yticklabels = {0, 1.5, 3},
            xtick align = inside,
            xticklabel style = {
                rotate = 45,
            },
            ylabel style = {
                yshift = -5pt,
            },
            ylabel = {IPC},
            grid style = dashed,
            ymajorgrids = true,
            bar width = 3pt,
            legend style = {
                at = {(0.0, 0.0)},
                anchor = east,
                legend columns = 2,
                draw = none,
                area legend,
            }
        ]
            \addplot +[
                ybar,
                fill = YIOrRd3,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {IPC}
            ] {spec06-calipers-perf.data};

            \addplot +[
                ybar,
                fill = YIOrRd4,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {IPC}
            ] {spec06-arch-explorer-perf.data};


        \nextgroupplot[
            axis x line* = top,
            axis y line* = left,
            ybar = 1pt,
            yshift = 1.41cm,
            width = 6.6cm,
            ymax = 0,
            ymin = -1.0,
            enlarge x limits = 0.04,
            xtick = {1, 2, ..., 13},
            ytick = {0, -0.5, -1.0},
            yticklabels = {0, 0.5, 1.0},
            xtick align = inside,
            xticklabels = {
                401.bzip2,
                429.mcf,
                444.namd,
                447.dealII,
                450.soplex,
                453.povray,
                456.hmmer,
                458.sjeng,
                471.omnetpp,
                483.xalancbmk,
                462.libquantum,
                ,
                Average
            },
            xtick align = inside,
            xticklabel style = {
                rotate = 60,
                anchor = east,
                yshift = 52pt,
                xshift = -2pt,
            },
            x tick label style = {
                yshift = -80pt,
                xshift = -20pt,
            },
            ylabel style = {
                yshift = -5pt,
                xshift = -5pt
            },
            ylabel = {Power ($ W $)},
            grid style = dashed,
            ymajorgrids = true,
            bar width = 3pt,
            legend style = {
                at = {(1.8, 2.2)},
                anchor = east,
                legend columns = 2,
                draw = none,
                area legend,
            }
        ]
            \addplot +[
                ybar,
                fill = YIOrRd3,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {Power}
            ] {spec06-calipers-power.data};

            \addplot +[
                ybar,
                fill = YIOrRd4,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {Power}
            ] {spec06-arch-explorer-power.data};

            \legend{
                Calipers \textcolor{blue}{[23]}\ \ \ \ , ArchExplorer
            };
    
    \end{groupplot}

    \begin{groupplot}[
        group style = {
            group size = 1 by 2,
            horizontal sep = 40pt,
            vertical sep = 40pt
        }
    ]
        \nextgroupplot[
            xshift = 5.5cm,
            axis x line* = bottom,
            axis y line* = left,
            ybar = 1pt,
            width = 7cm,
            ymin = 0,
            enlarge x limits = 0.04,
            xtick = {1, 2, ..., 13},
            title = {SPEC CPU2017 results},
            title style = {
                yshift = 6pt
            },
            xticklabels = {,,},
            ytick = {0, 1.5, 3},
            yticklabels = {0, 1.5, 3},
            xtick align = inside,
            xticklabel style = {
                rotate = 45,
            },
            y label style = {
                yshift = -5pt,
            },
            grid style = dashed,
            ymajorgrids = true,
            bar width = 3pt,
            legend style = {
                at = {(0.0, 0.0)},
                anchor = east,
                legend columns = 2,
                draw = none,
                area legend,
            }
        ]
            \addplot +[
                ybar,
                fill = YIOrRd3,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {IPC}
            ] {spec17-calipers-perf.data};

            \addplot +[
                ybar,
                fill = YIOrRd4,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {IPC}
            ] {spec17-arch-explorer-perf.data};


        \nextgroupplot[
            axis x line* = top,
            axis y line* = left,
            ybar = 1pt,
            yshift = 1.41cm,
            width = 7cm,
            ymax = 0,
            enlarge x limits = 0.04,
            xtick = {1, 2, ..., 13},
            ytick = {0, -0.5, -1.0},
            yticklabels = {0, 0.5, 1.0},
            xtick align = inside,
            xticklabels = {
                602.gcc\_s,
                605.mcf\_s,
                641.leela\_s,
                657.xz\_s,
                619.lbm\_s,
                621.wrf\_s,
                627.cam4\_s,
                628.pop2\_s,
                644.nab\_s,
                631.deepsjeng\_s,
                607.cactuBSSN\_s,
                ,
                Average
            },
            xtick align = inside,
            xticklabel style = {
                rotate = 60,
                anchor = east,
                yshift = 52pt,
                xshift = -2pt,
            },
            x tick label style = {
                yshift = -83pt,
                xshift = -23pt,
            },
            ylabel style = {
                yshift = -5pt,
                xshift = -5pt
            },
            grid style = dashed,
            ymajorgrids = true,
            bar width = 3pt,
            legend style = {
                at = {(1.03, 2.13)},
                anchor = east,
                legend columns = 2,
                draw = none,
                area legend,
            }
        ]
            \addplot +[
                ybar,
                fill = YIOrRd3,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {Power}
            ] {spec17-calipers-power.data};

            \addplot +[
                ybar,
                fill = YIOrRd4,
                draw = black,
                area legend
            ] table [
                x = {Benchmark},
                y = {Power}
            ] {spec17-arch-explorer-power.data};
    
    \end{groupplot}

\end{tikzpicture}

\end{document}
